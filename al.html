<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Intern Al - H-int</title>
  <link rel="icon" href="assets/images/logo.png" type="image/png"/>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>
  <style>
    @font-face{font-family:'HDHyundaiLight';src:url('assets/fonts/HDHyundai-Light.ttf') format('truetype')}
    @font-face{font-family:'HDHyundaiBold';src:url('assets/fonts/HDHyundai-Bold.ttf') format('truetype')}
    :root{--discovery-blue:#003087;--prosperity-green:#008233;--trust-blue:#002554;--gray-text:#63666A;--bg-light:#f4f4f4}
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:'HDHyundaiLight',sans-serif;background:var(--bg-light);color:var(--gray-text);opacity:0;transition:opacity .6s;}
    body.loaded{opacity:1;}
    /* Splash */
    #splash{position:fixed;top:0;left:0;width:100%;height:100%;background:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;animation:fadeSplash .8s ease forwards;}
    #splash img{width:60px;margin-bottom:1rem;}
    .splash-text{font-family:'HDHyundaiBold';font-size:1.5rem;color:var(--discovery-blue);}
    @keyframes fadeSplash{0%{opacity:1;}99%{opacity:0;}100%{display:none;}}
    /* Navbar */
    .navbar{position:sticky;top:0;left:0;background:#fff;display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;box-shadow:0 2px 4px rgba(0,0,0,0.1);z-index:1000;}
    .navbar img{height:32px;}
    .navbar-title{position:absolute;left:50%;transform:translateX(-50%);font-family:'HDHyundaiBold';font-size:1.5rem;}
    .navbar-title a{text-decoration:none;color:inherit;}
    .navbar-title .hd{color:var(--discovery-blue);}
    .menu-popup {
  position: absolute;
  top: 64px;
  right: 20px;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  padding: .5rem 1rem;
  opacity: 0;
  pointer-events: none;
  transform: translateY(-10px);
  transition: all .3s;
  z-index: 1001;  /* 네비게이션(z-index:1000) 위로 올라가게 */
}

.menu-popup.active {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
  /* z-index는 이미 상위에 있으므로 추가 설정 불필요 */
}

.menu-popup ul {
  list-style: none;
}

.menu-popup li {
  margin: .5rem 0;
}

.menu-popup a {
  text-decoration: none;
  color: var(--gray-text);
  transition: color .2s;
}

.menu-popup a:hover {
  color: var(--discovery-blue);
}

    /* Intro */
    .al-intro{padding:3rem 1rem;text-align:center;}
    .al-intro .page-title{font-family:'HDHyundaiBold';font-size:2rem;background:linear-gradient(90deg,#00B3FF,#9932CC);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:.5rem;}
    .al-intro .subtitle,.al-intro .tagline{font-size:1rem;margin-bottom:1.5rem;}
    /* Buttons */
    .btn{padding:1rem 2rem;border:none;border-radius:8px;font-family:'HDHyundaiBold';font-size:1.1rem;color:#fff;cursor:pointer;display:block;margin:0 auto;transition:transform .2s,box-shadow .2s;}
    .btn:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.1);}
    .btn.primary{background:var(--discovery-blue);}
    .btn.secondary{background:var(--prosperity-green);}
    
    /* Modal */
    .modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;padding:1rem;z-index:10000;}
    .modal.active{display:flex;}
    .modal-content{background:#fff;border-radius:12px;width:90%;max-width:480px;max-height:120vh;padding:2rem;position:relative;display:flex;flex-direction:column;overflow:auto;animation:fadeInDown .4s ease-out;}
    @keyframes fadeInDown{from{opacity:0;transform:translateY(-20px);}to{opacity:1;transform:translateY(0);}}
    .modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;}
    .modal-header .title{font-family:'HDHyundaiBold';font-size:1.8rem;background:linear-gradient(90deg,#00B3FF,#9932CC);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .close-modal{background:transparent;border:none;font-size:1.5rem;color:var(--gray-text);cursor:pointer;}
    /* Question */
    .step{display:none;}
    .step.active{display:block;}
    .question-card{background:#f9f9f9;border-radius:12px;padding:1.5rem;margin-bottom:2rem;}
    .question-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;}
    .question-number{font-family:'HDHyundaiBold';font-size:1rem;}
    .progress{flex:1;height:8px;background:#eee;border-radius:4px;overflow:hidden;margin-left:1rem;}
    .progress-bar{height:100%;width:0%;background:var(--discovery-blue);transition:width .3s;}
    .question-text{font-size:1.2rem;line-height:1.5;text-align:left;}
    .question-options{display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-top:1.5rem;}
    .option-btn {
  /* 두 버튼이 간격(1rem) 제외한 50%씩 차지 */
  flex: 1 1 calc(50% - 0.5rem);
  /* 수평 패딩은 조절 가능 */
  padding: 1.5rem 1rem;

  /* 자동 줄바꿈 & 한글 단어 중간 절단 방지 */
  white-space: normal;
  word-wrap: break-word;
  word-break: keep-all;

  background: #fff;
  border: 2px solid var(--bg-light);
  border-radius: 12px;
  /* 글자 크기 조금 줄여서 한 줄에 약 5자 정도 노출 */
  font-size: 0.9rem;
  text-align: center;
  cursor: pointer;
  transition: border-color .2s, transform .2s;
}


 .option-btn:hover{border-color:var(--discovery-blue);transform:scale(1.02);}
    .option-btn.selected{background:var(--discovery-blue);color:#fff;}
    .vs-label{font-family:'HDHyundaiBold';font-size:1.5rem;color:var(--trust-blue);margin:0 .5rem;}
    /* Loading */
    .loading-indicator{width:50px;height:50px;margin:3rem auto;border:5px solid var(--prosperity-green);border-top-color:transparent;border-radius:50%;animation:spin 1s linear infinite;}
    @keyframes spin{to{transform:rotate(360deg);}}
    /* Result */
    .result-card{border-radius:12px;padding:2.5rem;text-align:center;margin-bottom:1.5rem;color:#fff;animation:fadeIn .5s ease-out;}
    .result-department{font-size:1.2rem;opacity:0.9;margin-bottom:.5rem;}
    .result-role{font-size:1.5rem;font-weight:bold;margin-bottom:1rem;}
    .result-desc{font-size:1rem;line-height:1.5;text-align:left;}
    .result-buttons{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap;margin-top:2rem;}
    @keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
    /* Mobile tweaks */
    @media(max-width:480px){.modal-content{padding:1rem;}.btn{font-size:.95rem;padding:.75rem 1.25rem;}.question-text{font-size:1rem;}.option-btn{font-size:1rem;padding:1rem;}}
  </style>
</head>
<body>
  <div id="splash">
    <img src="assets/images/logo.png" alt="로고"/>
    <div class="splash-text">H-int Dream</div>
  </div>

  <div class="navbar">
    <img src="assets/images/logo.png" alt="로고"/>
    <div class="navbar-title"><a href="index.html"><span class="hd">H</span>int <span class="hd">D</span>ream</a></div>
    <div class="menu-icon" onclick="toggleMenu()">☰</div>
  </div>
  <div class="menu-popup" id="menuPopup">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="ship.html">Intern Ship</a></li>
      <li><a href="view.html">Intern View</a></li>
      <li><a href="net.html">Intern Net</a></li>
      <li><a href="al.html" class="active">Intern Al</a></li>
    </ul>
  </div>

  <div class="al-intro" data-aos="fade-up">
    <div class="page-title">Intern Al</div>
    <div class="subtitle">내면의 성향, AI가 추천하는 직무</div>
    <div class="tagline">10개의 밸런스 게임을 통해 현대중공업 직무 추천받기!</div>
    <button id="startBtn" class="btn primary">테스트 시작하기</button>
  </div>

  <div id="alModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <div class="title">Intern Al</div>
        <button class="close-modal" onclick="closeModal()">×</button>
      </div>
      <div id="stepQuestion" class="step active">
        <div class="question-card">
          <div class="question-header">
            <div class="question-number">1/10</div>
            <div class="progress"><div id="progressBar" class="progress-bar"></div></div>
          </div>
          <p id="questionText" class="question-text"></p>
          <div class="question-options">
            <div id="ans1Btn" class="option-btn"></div>
            <div class="vs-label">VS</div>
            <div id="ans2Btn" class="option-btn"></div>
          </div>
        </div>
      </div>
      <div id="stepAnalysis" class="step">
        <div class="loading-indicator"></div>
      </div>
      <div id="stepResult" class="step">
        <div id="resultCard" class="result-card"></div>
        <p class="result-desc"></p>
        <div class="result-buttons">
          <button class="btn primary" onclick="window.open('https://recruit.hd.com/kr','_blank')">HD현대중공업 지원하기</button>
          <button class="btn secondary" onclick="location.href='view.html'">인턴십 이야기 보러가기</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({duration:800,once:true});
    function toggleMenu(){document.getElementById('menuPopup').classList.toggle('active');}
    window.addEventListener('click',e=>{const m=document.getElementById('menuPopup'),i=document.querySelector('.menu-icon');if(!m.contains(e.target)&&!i.contains(e.target))m.classList.remove('active');});
    window.addEventListener('load',()=>setTimeout(()=>{document.getElementById('splash').style.display='none';document.body.classList.add('loaded');},800));

    const modal=document.getElementById('alModal'),
          startBtn=document.getElementById('startBtn'),
          closeBtn=document.querySelector('.close-modal'),
          steps={question:document.getElementById('stepQuestion'),analysis:document.getElementById('stepAnalysis'),result:document.getElementById('stepResult')};

    const questions=[
      {text:'둘중 하나 골라야 한다면?',opt1:'밤 12시까지 야근하기',dim1:'responsibility',opt2:'밤 12시까지 회식하기',dim2:'teamwork'},
      {text:'혼자 완료할 수 있는 일이 주어진다면?',opt1:'혼자 작업 다하기',dim1:'analytical',opt2:'팀과 나눠서하기',dim2:'teamwork'},
      {text:'신입사원으로 보고를 준비 중이라면?',opt1:'데이터를 세밀하게 분석하기',dim1:'analytical',opt2:'창의적인 아이디어제시',dim2:'creativity'},
      {text:'예산 편성을 앞두고 있다면?',opt1:'현행유지!',dim1:'responsibility',opt2:'혁신적인 도전!',dim2:'innovation'},
      {text:'긴급 기획 요청을 받았다면?',opt1:'체계적인 계획부터 빠르게',dim1:'responsibility',opt2:'일단 즉흥적인 실행',dim2:'creativity'},
      {text:'고객 미팅 전이라면?',opt1:'철저한 요구사항 분석',dim1:'analytical',opt2:'시장 탐색 먼저',dim2:'innovation'},
      {text:'문제가 발생했다면?',opt1:'근본 원인 분석',dim1:'analytical',opt2:'임시 조치 먼저',dim2:'innovation'},
      {text:'신기술 도입 검토?',opt1:'신기술 학습 추진',dim1:'innovation',opt2:'기존 방식 강화부터',dim2:'responsibility'},
      {text:'내용 전달이 필요할때?',opt1:'문서로 정리',dim1:'responsibility',opt2:'만나서 직접 소통',dim2:'teamwork'},
      {text:'발표 준비 상황이라면?',opt1:'자세한 설명이 중요',dim1:'analytical',opt2:'간결한 요약이 중요',dim2:'creativity'},
      {text:'장기 프로젝트 계획이라면?',opt1:'장기 전략으로 큰그림',dim1:'analytical',opt2:'단기 목표부터 차근차근',dim2:'responsibility'},
      {text:'문제를 해결해야 할때?',opt1:'정확성이 우선',dim1:'responsibility',opt2:'일단 해결! 속도 우선',dim2:'analytical'},
      {text:'지식을 쌓고 싶을땐?',opt1:'사무실에서 내용 학습',dim1:'analytical',opt2:'현장 직접 투입',dim2:'creativity'},
      {text:'팀 성과와 나의 성과중에 골라야 한다면?',opt1:'팀 성과가 중요',dim1:'teamwork',opt2:'개인 성과가 중요',dim2:'responsibility'},
      {text:'리스크가 큰 업무 상황에서?',opt1:'실패없게 리스크 관리',dim1:'responsibility',opt2:'과감한 시도후 개선',dim2:'innovation'},
      {text:'시간이 없을때?',opt1:'철저하게 시간단위 계획',dim1:'analytical',opt2:'임시 대응후 경과보기',dim2:'innovation'},
      {text:'회의 자료 준비할때?',opt1:'디테일이 중요',dim1:'analytical',opt2:'큰 그림이 중요',dim2:'innovation'},
      {text:'고객 피드백에 대응해야 할때?',opt1:'분석을 기반하여 개선',dim1:'analytical',opt2:'창의적으로 해결',dim2:'creativity'},
      {text:'새 시스템 도입 상황이라면?',opt1:'표준 절차 완벽준수',dim1:'responsibility',opt2:'유연한 시스템',dim2:'innovation'},
      {text:'팀끼리 문화 활동을 할때?',opt1:'다같이 여행가기',dim1:'teamwork',opt2:'영화 보러 가기',dim2:'creativity'}
    ];

    const jobs=[
      {department:'엔진기계사업부',role:'생산기술 지원',weights:{responsibility:5,analytical:2,teamwork:1,innovation:1,creativity:1},desc:'대형/중형 엔진 부품 주조 및 기계가공 생산기술 지원'},
      {department:'엔진기계사업부',role:'조립·시운전 지원',weights:{responsibility:5,analytical:2,teamwork:1,innovation:1,creativity:1},desc:'엔진 조립·시운전 표준 작업 수립 및 성능 분석'},
      {department:'엔진기계사업부',role:'설비 개선·투자관리',weights:{responsibility:3,analytical:1,teamwork:1,innovation:4,creativity:1},desc:'시운전 설비 개선 및 친환경 연료 설비 투자·유지보수'},
      {department:'엔진기계사업부',role:'생산관리',weights:{responsibility:5,analytical:2,teamwork:1,innovation:1,creativity:1},desc:'공정·품질 관리 및 설비 현대화 유지보수'},
      {department:'엔진기계사업부',role:'생산지원',weights:{responsibility:4,analytical:2,teamwork:2,innovation:1,creativity:1},desc:'사업부 운영전략 수립 및 생산계획 관리, 프로세스 개선'},
      {department:'엔진기계사업부',role:'영업',weights:{responsibility:2,analytical:1,teamwork:3,innovation:2,creativity:2},desc:'친환경 추진 기관 및 엔진 시스템 홍보·고객 기술영업'},
      {department:'엔진기계사업부',role:'상세설계',weights:{responsibility:1,analytical:4,teamwork:1,innovation:2,creativity:2},desc:'엔진 기계 부품/시스템 3D 모델링 및 도면 작성'},
      {department:'엔진기계사업부',role:'제어시스템 개발',weights:{responsibility:1,analytical:3,teamwork:1,innovation:4,creativity:1},desc:'엔진 제어시스템 설계 및 양산 기술 지원'},
      {department:'엔진기계사업부',role:'품질관리',weights:{responsibility:5,analytical:3,teamwork:1,innovation:1,creativity:0},desc:'엔진 및 기계 품질 관리 및 최적화'},
      {department:'엔진기계사업부',role:'HR',weights:{responsibility:2,analytical:1,teamwork:4,innovation:1,creativity:2},desc:'인사 및 조직 운영, 인재 육성 지원'},
      {department:'엔진기계사업부',role:'통합구매',weights:{responsibility:3,analytical:3,teamwork:1,innovation:1,creativity:2},desc:'엔진 부품 및 자재 조달, 공급망 관리'},
      {department:'엔진기계사업부',role:'안전',weights:{responsibility:5,analytical:2,teamwork:2,innovation:1,creativity:0},desc:'산업안전 및 환경 관리 기준 수립, 위험 예방'},
      {department:'엔진기계사업부',role:'DT',weights:{responsibility:1,analytical:2,teamwork:1,innovation:5,creativity:1},desc:'디지털 혁신 및 IT 시스템 개발'},

      {department:'조선사업부',role:'기본설계',weights:{responsibility:1,analytical:5,teamwork:1,innovation:1,creativity:2},desc:'선박 기본 틀 완성 및 계약 사양서 작성'},
      {department:'조선사업부',role:'조선설계',weights:{responsibility:1,analytical:5,teamwork:1,innovation:1,creativity:2},desc:'구조 해석, 공법 개선 및 생산도면 설계'},
      {department:'조선사업부',role:'생산관리',weights:{responsibility:1,analytical:5,teamwork:1,innovation:1,creativity:2},desc:'생산 계획, 자재·설비 투입 및 안전환경 관리'},
      {department:'조선사업부',role:'기술기획',weights:{responsibility:1,analytical:5,teamwork:1,innovation:1,creativity:2},desc:'기술경영 및 사업부 전략 기획'},
      {department:'조선사업부',role:'생산지원',weights:{responsibility:1,analytical:5,teamwork:1,innovation:1,creativity:2},desc:'생산계획 수립 및 외주 입고 일정 관리'},

      {department:'해양사업부',role:'상세설계',weights:{responsibility:1,analytical:2,teamwork:1,innovation:5,creativity:1},desc:'해양플랜트 설계 SPEC 결정 및 도면 작성'},
      {department:'해양에너지',role:'설계',weights:{responsibility:1,analytical:2,teamwork:1,innovation:5,creativity:1},desc:'해양에너지 설비 SPEC 결정 및 절차서 작성'},

      {department:'특수선사업부',role:'상세설계',weights:{responsibility:1,analytical:1,teamwork:4,innovation:1,creativity:3},desc:'함정 및 특수선 도면 설계 및 견적'},
      {department:'특수선사업부',role:'생산관리',weights:{responsibility:1,analytical:1,teamwork:4,innovation:1,creativity:3},desc:'조선 공사 시공 표준 수립 및 자재·설비 관리'},
      {department:'특수선사업부',role:'영업',weights:{responsibility:1,analytical:1,teamwork:4,innovation:1,creativity:3},desc:'함정 해외 수출 프로젝트 영업'}
    ];

    let selected=[], current=0, answers=[];

    startBtn.onclick=()=>{
      selected=questions.sort(()=>Math.random()-0.5).slice(0,10);
      current=0; answers=[];
      updateQuestion();
      modal.classList.add('active');
    };
    closeBtn.onclick=()=>modal.classList.remove('active');
    document.getElementById('ans1Btn').onclick=()=>selectAnswer(0);
    document.getElementById('ans2Btn').onclick=()=>selectAnswer(1);

    function selectAnswer(choice){
      answers[current]=choice;
      document.querySelectorAll('.option-btn').forEach(b=>b.classList.remove('selected'));
      document.getElementById(choice===0?'ans1Btn':'ans2Btn').classList.add('selected');
      setTimeout(()=>{
        if(current<9){current++;updateQuestion();}
        else showAnalysis();
      },300);
    }
    function updateQuestion(){
      showStep('question');
      document.querySelector('.question-number').innerText=`${current+1}/10`;
      document.getElementById('progressBar').style.width=`${(current+1)/10*100}%`;
      document.getElementById('questionText').innerText=selected[current].text;
      document.getElementById('ans1Btn').innerText=selected[current].opt1;
      document.getElementById('ans2Btn').innerText=selected[current].opt2;
    }
    function showStep(name){
      Object.values(steps).forEach(s=>s.classList.remove('active'));
      steps[name].classList.add('active');
    }
    function showAnalysis(){
      showStep('analysis');
      setTimeout(showResult,2000+Math.random()*2000);
    }
    function showResult(){
      showStep('result');
      // 1) 비율 계산
      const counts={}, proportions={};
      selected.forEach((q,i)=>{
        const d=answers[i]===0?q.dim1:q.dim2;
        counts[d]=(counts[d]||0)+1;
      });
      for(const [d,c] of Object.entries(counts)) proportions[d]=c/answers.length;
      // 2) 직무 점수
      const jobScores=jobs.map(j=>{
        const W=Object.values(j.weights).reduce((a,b)=>a+b,0);
        const s=Object.entries(j.weights).reduce((sum,[dim,w])=>sum+(proportions[dim]||0)*w,0)/W;
        return {...j,score:s};
      });
      // 3) 부서 합산
      const deptSum={};
      jobScores.forEach(j=>deptSum[j.department]=(deptSum[j.department]||0)+j.score);
      // 4) 부서 가중 랜덤 선택
      const depts=Object.entries(deptSum);
      const totalDept=depts.reduce((a,[,s])=>a+s,0);
      let r=Math.random()*totalDept;
      const chosenDept=depts.find(([_,s])=>{if(r<s)return true; r-=s; return false; })[0];
      // 5) 부서 내 후보
      const candidates=jobScores.filter(j=>j.department===chosenDept);
      // 6) 직무 가중 랜덤 선택
      const totalJob=candidates.reduce((a,j)=>a+j.score,0);
      let r2=Math.random()*totalJob;
      const best=candidates.find(j=>{if(r2<j.score)return true; r2-=j.score; return false;});
      // 7) 렌더링
      const colorMap={
        '엔진기계사업부':'linear-gradient(135deg,#00B3FF,#9932CC)',
        '조선사업부':'linear-gradient(135deg,#008233,#003087)',
        '해양사업부':'linear-gradient(135deg,#9932CC,#00B3FF)',
        '해양에너지':'linear-gradient(135deg,#008233,#9932CC)',
        '특수선사업부':'linear-gradient(135deg,#003087,#008233)'
      };
      const gradient=colorMap[best.department]||colorMap['엔진기계사업부'];
      const card=document.getElementById('resultCard');
      card.style.background=gradient;
      card.innerHTML=`
        <div class="result-department">${best.department}</div>
        <div class="result-role">${best.role} 직무</div>
        <p class="result-desc">${best.desc}</p>
      `;
    }
  </script>
</body>
</html>
